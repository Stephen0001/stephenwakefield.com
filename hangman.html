<!DOCTYPE html>
<html>
<head>
	<title>Hangman!</title>
</head>
<body>
	<h1>Hangman!</h1>

	<canvas id="canvasId" width=500 height=500></canvas>

	<style>
	canvas {
		border: 1px solid black
	}
	</style>

	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	<script>
	//make it so the script controls the canvas   i.e. var ctx
	var canvas = document.getElementById("canvasId");
	var ctx = canvas.getContext("2d");


	//make two functions... One that drawsLines and one that drawsCircles
	function drawLines (x1, y1, x2, y2) {
		ctx.strokeStyle = "Black";
		ctx.lineWidth = 5;
		ctx.beginPath();
		ctx.moveTo(x1,y1);
		ctx.lineTo(x2,y2);
		ctx.stroke();
	}

	function drawCircles (x, y, radius, fillCircle) {
		ctx.strokeStyle = "Black";
		ctx.lineWidth = 5;
		ctx.beginPath();
		ctx.arc(x, y, radius, Math.PI*2, false)

		if (fillCircle) {
			ctx.fill();
		} else {
			ctx.stroke();
		}
	}

	alert("Welcome to Hangman, You have 15 guesses to win the game!");

	//create an array of words
	var words = [
		"javascript",
		"monkey",
		"amazing",
		"pancake"
	];

	//pick a random word
	var word = words[Math.floor(Math.random()* words.length)];

	//set up a variable for the guessing limit
	var guessingString = "";

	//set up the answer array
	var answerArray = [];
	for (var i = 0; i < word.length; i++) {
		answerArray[i] = "_";
	}

	var remainingLetters = word.length;

	//the game loop
	while (remainingLetters > 0) {
		//show the player their progress
		alert("Letters already guessed: '" + guessingString + "' " + ". This is a " + word.length + " letter word. "+ guessingString.length + " out of 15 guesses remaining. " + answerArray.join(" "));

		//get a guess from the player
		var guess = prompt("Guess a letter, or click Cancel to stop playing.");
		
		//limit the number of guesses the player gets 
		guessingString += guess;
		
		if (guessingString.length >= 15) {
			 drawLines(250,125,250,90);
			 drawLines(250,90,150,90);
			 drawLines(150,90,150,450);
			 drawLines(150,450,100,450);
			 drawLines(100,450,200,450);

			alert("Sorry, You Lost!")
			break;
		}

		//draw a body part for each guess
		if (guessingString.length == 1) {
			drawCircles(250,150,25,false);
		}
		if (guessingString.length == 2) {
			drawLines(250,175,250,300);
		}
		if (guessingString.length == 3) {
			drawLines(250,300,300,350);
		}
		if (guessingString.length == 4) {
			drawCircles(300,350,10,true);
		}
		if (guessingString.length == 5) {
			drawLines(250,225,200,200);
		}	
		if (guessingString.length == 6) {
			drawCircles(200,200,10,true);
		}			
		if (guessingString.length == 7) {
			drawLines(250,225,300,200);
		}	
		if (guessingString.length == 8) {
			drawCircles(300,200,10,true);
		}	
		if (guessingString.length == 9) {
			drawLines(250,300,200,350);
		}	
		if (guessingString.length == 10) {
			drawCircles(200,350,10,true);
		}	
		if (guessingString.length == 11) {
			drawCircles(245,145,4,false);
		}	
		if (guessingString.length == 12) {
			drawCircles(260,145,4,false);
		}	
		if (guessingString.length == 13) {
			drawCircles(253,155,2,false);
		}	
		if (guessingString.length == 14) {
			drawLines(240,163,260,163);
		}	


		if (guess === null) {
			break;
		} else if (guess.length !== 1){
			alert("Please enter a single letter");  
		} else {
			//convert uppercase letters to lowercase
			guess = guess.toLowerCase();
			//update the game state with the guess
		} for (var j = 0; j < word.length; j++) {
			if (word[j] === guess && answerArray[j] === "_") {
				answerArray[j] = guess;
				remainingLetters--;
			}
		}
	}  

	//show the answer and congradulate the player
	alert(answerArray.join(" "));
	Word = word.toUpperCase();
	alert("The answer was " + Word);


	</script>
</body>
</html>